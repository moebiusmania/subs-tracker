import{d as C,u as v,o as u,c as _,h as s,t as a,a as d,p as b,s as f,g as L,b as A,l as k,k as h,m as y,F as D,q as E}from"./index-B767zdus.js";import{C as N}from"./Container-Z_9rdzoE.js";const R={class:"mt-8 flex flex-col md:flex-row justify-between gap-4"},S="btn btn-neutral w-full md:w-1/2 lg:w-1/3",O=C({__name:"Backup",setup(j){const o=v(),l=o.i18n.backup,p=()=>{var c;const n=o.getState.data,e=JSON.stringify(n),i=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(i),t=document.createElement("a");t.id="download",t.href=r,t.download="subscriptions.json",t.click(),URL.revokeObjectURL(r),(c=document.getElementById("download"))==null||c.remove()},m=()=>{var e;const n=document.createElement("input");n.id="upload",n.type="file",n.accept=".json",n.onchange=i=>{var t;const r=(t=i.target.files)==null?void 0:t[0];if(r){const c=new FileReader;c.onload=g=>{var w;const x=(w=g.target)==null?void 0:w.result;if(typeof x=="string"){const B=JSON.parse(x);o.importSubs(B),f(o.getState)}},c.readAsText(r)}},n.click(),(e=document.getElementById("upload"))==null||e.remove()};return(n,e)=>(u(),_("section",R,[s("button",{class:b(S),onClick:p},"↓ "+a(d(l).export),1),s("button",{class:b(S),onClick:m},"↑ "+a(d(l).import),1)]))}}),U={class:"flex flex-col gap-3 md:flex-row md:gap-7 md:justify-between mb-4"},$={class:"font-sans text-2xl font-bold"},F={class:"md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-7"},T={class:"card-body"},V={class:"card-title"},I=["onClick"],J="Sure you want to delete all subscriptions data?",M=C({__name:"List",props:{data:{}},setup(j){const o=v(),l=o.i18n.main,p=e=>confirm(e),m=()=>{p(J)&&(o.deleteSubs(),f(o.getState))},n=e=>{o.toggleActive(e),f(o.getState)};return(e,i)=>{const r=L("router-link");return u(),A(N,null,{default:k(()=>[s("header",U,[s("h2",$,a(d(l).list),1),h(r,{to:"/add",class:"btn btn-accent w-full md:w-max"},{default:k(()=>[y(" ⊕ "+a(d(l).cta),1)]),_:1})]),s("section",F,[(u(!0),_(D,null,E(e.data,(t,c)=>(u(),_("article",{class:"card rounded-none bg-base-100 shadow-xl my-7 md:my-0",key:c},[s("div",T,[s("h2",V,[s("span",{onClick:g=>n(c),class:b(`badge cursor-pointer ${t.isActive?"badge-success":"badge-error"}`)},null,10,I),y(" "+a(t.name),1)]),s("p",null,a(t.price+t.currency)+", "+a(t.recurrence)+" - "+a(d(l).expires)+" "+a(new Date(t.expiration).toLocaleDateString()),1)])]))),128))]),h(O),s("button",{class:"btn w-full mt-7 btn-error modal-button",onClick:m}," ⊗ "+a(d(l).delete),1)]),_:1})}}});export{M as default};
